<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
	<meta name="description" content="Personal website of Amelia McNamara, statistics PhD candidate at UCLA" />
	
    <meta name="author" content="Amelia McNamara">
    <title>Amelia McNamara  | Portfolio   | R  | Soul of the Community </title>
    <link rel="shortcut icon" href="http://www.stat.ucla.edu/~amelia.mcnamara/assets/ico/favicon.png">
    <link rel="stylesheet" href="http://www.stat.ucla.edu/~amelia.mcnamara/dist/font-awesome/css/font-awesome.min.css">
    <link href="http://www.stat.ucla.edu/~amelia.mcnamara/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://www.stat.ucla.edu/~amelia.mcnamara/dist/css/my.css" rel="stylesheet">
    <link rel="alternate" type="application/rss+xml" title="Amelia McNamara" href="http://www.stat.ucla.edu/~amelia.mcnamara/blog/feed.xml">
  </head>
  <body>

<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#amelia">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Amelia McNamara</a>
        </div>
        <div class="navbar-collapse collapse" id="amelia">
          <ul class="nav navbar-nav">
           
            	<li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/index.html">home</a></li>
        	
        	
            	<li class="dropdown">
            
              <a href="/teaching.html" class="dropdown-toggle" data-toggle="dropdown">teaching <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/101c.html">101c</a></la>
              	<li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/102b.html">102b</a></li>
                <li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/101a.html">101a</a></li>
                <li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/Mobilize.html">Mobilize</a></li>
              </ul>
              </li>
            
           		<li class="dropdown active">
            
              <a href="http://www.stat.ucla.edu/~amelia.mcnamara/portfolio.html" class="dropdown-toggle" data-toggle="dropdown">portfolio <b class="caret"></b></a>
              <ul class="dropdown-menu">
              	<li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/portfolio.html">Overview</a></li>
              	<li class="divider"></li>
              	<li class="dropdown-header">Programming</li>
                <li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/R.html">R</a></li>
                <li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/javascript.html">JavaScript</a></li>
                <li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/latex.html">LaTeX</a></li>
                <li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/python.html">Python</a></li>
                <li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/matlab.html">Matlab</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Art/design</li>
                <li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/illustrator.html">Illustrator</a></li>
                <li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/painting.html">Paint</a></li>
                <li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/drawing.html">Drawing</a></li>
                <li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/three-d.html">Cinema 4D</a></li>
              </ul>
              </li>
              
              <li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/FoSP.html">statistical programming</a></li>
              
              
              	<li><a href="http://www.stat.ucla.edu/~amelia.mcnamara/blog/">blog</a></li>
              
              </ul>
              <ul class="nav navbar-nav navbar-right">
				<li><a class="tooltip-test" data-placement="bottom" title="" data-original-title="email" href="mailto:amelia.mcnamara@stat.ucla.edu" target="_blank"><i class="fa fa-envelope fa-2x"></i></a></li>
				<li><a class="tooltip-test"  data-placement="bottom" title="" data-original-title="follow" href="http://www.twitter.com/AmeliaMN" target="_blank"><i class="fa fa-twitter fa-2x"></i></a></li>
				<li><a class="tooltip-test"  data-placement="bottom" title="" data-original-title="connect" href="http://www.linkedin.com/in/AmeliaMcNamara" target="_blank"><i class="fa fa-linkedin fa-2x"></i></a></li>
				<li><a class="tooltip-test"  data-placement="bottom" title="" data-original-title="friend" href="http://www.facebook.com/amelia.mcnamara" target="_blank"><i class="fa fa-facebook fa-2x"></i></a></li>
				<li><a class="tooltip-test"  data-placement="bottom" title="" data-original-title="add" href="http://plus.google.com/+AmeliaMcNamara" target="_blank"><i class="fa fa-google-plus fa-2x"></i></a></li>
				<li><a class="tooltip-test"  data-placement="bottom" title="" data-original-title="fork" href="https://github.com/AmeliaMN" target="_blank"><i class="fa fa-github fa-2x"></i></a></li>
          </ul>
        </div><!--/.nav-collapse -->
    </nav>

    <div class="container">
	<div class="row">
	<div class="col-lg-12">
		<h1 id="top">Joint Statistical Meetings Data Expo 2013 poster entry</h1>	
		<ol class="breadcrumb">
  			<li><a href="index.html">Home</a></li>
  			<li><a href="portfolio.html">Portfolio</a></li>
  			<li><a href="R.html">R</a></li>
  			<li class="active">Soul of the Community</li>
		</ol>
	</div>
</div>
	<div class="row">
	<div class="col-lg-4">
	 <a href="img/SoCPoster.pdf" class="thumbnail"><img src="img/SoCPoster.jpg" class="img-responsive" alt="Soul of the Community poster"/></a>
	</div>
	<div class="col-lg-8">
		  <p>Every other year, the American Statistical Association hosts a data visualization competition, called the <a href="http://streaming.stat.iastate.edu/dataexpo/2013/">Data Expo</a>. 
		  In 2013, they provided data from the Knight Foundation on "The Soul of the Community," and asked 
		  entrants to visualize what made a good community. When I decided to enter the competition, my goal was to become fluent in <a href="http://cran.r-project.org/web/packages/ggplot2/index.html">ggplot2</a>, 
		  as well as learn a little about <a href="http://www.rstudio.com/shiny/">shiny</a> and <a href="https://github.com/rstudio/ggvis">ggvis</a>. I certainly achieved those goals!</p>
		
		<p>Because my main goal was to learn new tools, my analysis was mostly exploratory. But my most interesting work focused on community meta-knowledge. 
		That is, if a particular community is good (or bad) for a particular subsection of the population, are those outside that sub-population aware of it?
		For example, if a community is friendly to immigrants, is the community overall aware of that? 
		Or, if a community is bad for seniors or families with children, do non-seniors and non-parents understand that?
		</p>
		
		 <p>All the data I used in creating my poster, as well as the associated code (including my simple shiny and gigvis apps), is available on <a href="https://github.com/AmeliaMN/SoCDataViz">my github</a>, or you can check it out here.</p>
			<button type="button" class="btn btn-default code" data-toggle="collapse" data-target="#repo">
 			 view code
			</button>
		<div class="collapse" id="repo">
		</div>
		</div>
	</div>

	<div class="row">
		<div class="col-lg-12">
			<h2>The problem:</h2> The problem set forth by the 2013 Data Expo was to provide a graphical summary of important features of a given data set. 
			The data provided were three years of survey data on “The Soul of the Community” collected by the Knight Foundation. 
			The Knight Foundation surveyed members of 26 communities over the telephone, asking a variety of questions about community involvement.</p>
		</div>
	</div>
	
	<div class="row">
		<div class="col-lg-12">
			<h2>Which communities were over-surveyed?</h2> 
		</div>
	</div>
		
	<div class="row">
		<div class="col-lg-4">
			<a href="" class="thumbnail"><img src="img/SoCplots/2008Map.jpg" class="img-responsive" alt="2008 survey"></a>
			<a href="" class="thumbnail"><img src="img/SoCplots/2009Map.jpg" class="img-responsive" alt="2009 survey"></a>
			<a href="" class="thumbnail"><img src="img/SoCplots/2010Map.jpg" class="img-responsive" alt="2010 survey"></a>
			  <div class="modal fade" id="driftdir" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
				  <div class="modal-content">
					<div class="modal-header">
					  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					  <h4 class="modal-title">2008 survey map</h4>
					</div>
					<div class="modal-body">
					 <img src="img/SoCplots/2008Map.jpg" class="img-responsive"  alt="2008 survey">
					</div>
				  </div><!-- /.modal-content -->
				</div><!-- /.modal-dialog -->
			  </div><!-- /.modal -->
			  <div class="modal fade" id="driftdir" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
				  <div class="modal-content">
					<div class="modal-header">
					  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					  <h4 class="modal-title">2009 survey map</h4>
					</div>
					<div class="modal-body">
					 <img src="img/SoCplots/2009Map.jpg" class="img-responsive"  alt="2009 survey">
					</div>
				  </div><!-- /.modal-content -->
				</div><!-- /.modal-dialog -->
			  </div><!-- /.modal -->
			  <div class="modal fade" id="driftdir" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
				  <div class="modal-content">
					<div class="modal-header">
					  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					  <h4 class="modal-title">2010 survey map</h4>
					</div>
					<div class="modal-body">
					 <img src="img/SoCplots/2008Map.jpg" class="img-responsive"  alt="2010 survey">
					</div>
				  </div><!-- /.modal-content -->
				</div><!-- /.modal-dialog -->
			  </div><!-- /.modal -->


		</div>
		<div class="col-lg-8">
		In most communities, approximately 400 people were interviewed, but certain communities were surveyed much more. 
		It appears that the Knight Foundation was trying to survey places at an approximately similar rate, which is why Philadelphia (for example) was surveyed 1633 times in 2010. 
		To see which places were over- or under-represented in the survey, I created maps showing the percentage of the community that was polled for each polling year.</p>
		<p>The population data for these maps came from the Intercensal population estimates compiled by the Census Bureau. Population estimates are calculated each year in between Census years. 
		These maps show the percentage of the community that was polled, and percentages hover around a mean of 0.07%, with lots of variation. 
		Palm Beach, FL always looks over-represented because the minimal sample size of 400 was always used, leading to a polling rate around 4%. 
		Large communities like Philadelphia, PA, look underrepresented, with a rate around 0.01%. And there is some variation over time, especially on the East side of the US. 
		For example, Akron, OH begins with a polling rate of 0.01%, which rises to 0.07% and then 0.09%, as a result of polling increasing from around 400 residents to more than 1700.</p>
		
		</div>
	</div>
	
	<div class="row">
		<div class="col-md-12">
			<h2>How many different scale lengths are represented in the survey?</h2>
		</div>
	</div>
	
	<div class="row">
		<div class="col-md-4">
		<a href="" class="thumbnail"><img src="img/SoCplots/NumberOfLevels2010.jpg" class="img-responsive" alt="Survey response lengths"></a>
		</div>
		<div class="col-md-8">
		The data are comprised of many demographic variables identifying the respondent to the survey, as well as their responses to survey questions. 
		Most survey questions were answered on a Likert scale, although there was little consistency in the number of levels for the scale. 
		The most common scale was a five-point scale, as in “Not at all satisfied, 2, 3, 4, Extremely satisfied” or ”Very bad, 2, 3, 4, Very good.” 
		However, many other scales were used. In fact, the second half of each data set is comprised of recoded variables, which have been normalized onto three-point scales with the levels high, medium, and low.</p>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<h2>Do people answer all the questions?</h2>
		</div>
	</div>
	<div class="row">
		<div class="col-md-4">
			<a href="" class="thumbnail"><img src="img/SoCplots/MissingDataTablePlot.jpg" class="img-responsive" alt="Missing data"></a>
		</div>
	<div class="col-md-8">
		While the 2008 and 2009 data sets are almost complete, the 2010 data set has about 25% missing data. 
		This missing data is characterized by almost all the demographic information being present, but only one survey question answered 
		(that being, “how satisfied are you with this community as a place to live”). 
		Interestingly, with the 4880 incomplete responses removed, the 2010 dataset is reduced to 15,000 observations, which is much closer to the 14,000 observations the two prior years.
	</div>
</div>
	<div class="row">
		<div class="col-md-12">
		<h2>Which place reported the greatest level of community satisfaction?</h2>
		</div>
	</div>
	<div class="row">
		<div class="col-md-4">
		<a href="" class="thumbnail"><img src="img/SoCplots/CommunitiesSatisfaction.jpg" class="img-responsive" alt="Satisfaction of communities"></a>
		</div>
		<div class="col-md-8">
		Knowing that the question about community satisfaction was only survey question answered by all respondents, it made sense to see which communities reported the highest levels of community satisfaction. 
		Because it does not make sense to compute a mean of a categorical variable, I researched visualizations of Likert scale data. 
		One common way to display Likert scales is net stacked distribution graphs. 
		These graphs show the percentage of positive and negative responses centered around a zero axis, to show the overall balance of responses.
		My code was cribbed heavily from a <a href="http://statisfactions.com/2012/improved-net-stacked-distribution-graphs-via-ggplot2-trickery/">blog post</a> I read on Likert scale visualizations. 
		The main problem with these visualizations is that for scales with an odd number of levels, it makes sense to center the middle value around the zero axis. 
		Because of this, you must split the data into two pieces and plot them separately, which means that legend ordering is lost.
		From this plot, we can see that people in State College, PA reported much greater levels of community satisfaction than people in De- troit, MI or Gary, IN. 
		I noted with satisfaction that two of my favorite communities, St. Paul, MN and San Jose, CA, were rated quite similarly high.
		</div>
	</div>
	
	
	<div class="row">
		<div class="col-md-12">
		<h2>What behaviors do survey-takers generally engage in?</h2>
		</div>
	</div>
	<div class="row">
		<div class="col-md-4">
			<a href="" class="thumbnail"><img src="img/SoCplots/YesNoOverall.jpg" class="img-responsive" alt=""></a>
			
		</div>
		<div class="col-md-8">
		<p>In 2010, the most common behavior was being registered to vote, and the least common was providing free shelter to a non-relative. 
		While the surveys in 2008 and 2009 did not contain the full set of yes/no questions, the faceted plot showing the responses over time did not show any clear trend. 
		Similarly, the faceted plot showing the responses from 2010 by community just looked like noise. 
		The plot on the right shows the percent difference of the community rate from the overall rate.</p>
		
		<p>People in St. Paul, MN, San Jose, CA, and State College, PA were more likely to provide free shelter to a non-relative, while people in Georgia, either Macon or Milledgeville, were less likely to. 
		The couchsurfing effect?</p>

		</div>
	</div>
		<div class="row">
		<div class="col-md-12">
		<a href="" class="thumbnail"><img src="img/SoCplots/DifferenceYesNo.jpg" class="img-responsive" alt="Difference from overall"></a>
		</div>
		</div>

	<div class="row">
		<div class="col-md-12">
		<h2>Do residents have meta-knowledge about their community?</h2>
		That is, does the general population’s opinion on the community as a place for seniors conform to seniors’ own feelings about the community as a place to live? 
		Do non-parents know how the community is for people with children? 
		Do non-minorities know how the community is for racial and ethnic minorities?
		</div>
	</div>

	
		<div class="row">
		<div class="col-md-12">
		<h2>Is the community a good place for seniors?</h2>
		</div>
	<div class="row">
		<div class="col-md-4">
			<a href="" class="thumbnail"><img src="img/SoCplots/SeniorsOverall.jpg" class="img-responsive" alt="Seniors"></a>
		</div>
		<div class="col-md-8">
		It appears that non-seniors underestimate how good a place is for seniors. 
		People 55 and older rated their community as a better place for seniors than did people under 55. 
		This was true across every community surveyed.
		</div>
	</div>
	
	

	<div class="row">
		<div class="col-md-12">
		<h2>Is the community a good place for minorities?</h2>
		</div>
	</div>
	<div class="row">
		<div class="col-md-4">
			<a href="" class="thumbnail"><img src="img/SoCplots/RaceWithRefused.jpg" class="img-responsive" alt="Race with refused"></a>
			<a href="" class="thumbnail"><img src="img/SoCplots/RaceNoRefused.jpg" class="img-responsive" alt="Race without refused"></a>
		</div>
		<div class="col-md-8">
		For racial and ethnic minorities, the plots initially looked incredibly strange, which turned out to be because of the small sample sizes in each community. 
		Looking back at the demographic breakdown for race, I noticed that the vast majority of respondents refused to answer. 
		And those who did answer were predominantly white. Almost all the variation in plots could be explained by small sample sizes. 
		This was disappointing, as I was interested to see the difference between the two groups.
		</div>
	</div>


	<div class="row">
		<div class="col-md-12">
		<h2>Is the community a good place for kids?</h2>
		</div>
	</div>
	<div class="row">
		<div class="col-md-8">
			<a href="" class="thumbnail"><img src="img/SoCplots/Kids.jpg" class="img-responsive" alt="Community for kids"></a>
			
		</div>
		<div class="col-md-4">
		<p>Luckily for me, there was some more interesting variation in the responses to the question about how good the community was for families with young children. 
		Again, I struggled with small sample sizes, but by defining the group of those with children as anyone with a child under the age of 18 living on the premises, I was able to get around 100 respondents in each city, or about 25% of larger samples. 
		Finally, there were communities where parents said it was worse for families with children than non-parents said, and vice versa. 
		Interestingly, everyone seems to know that Long Beach, CA is good for children.</p>

		</div>
	</div>
	<div class="row">
		<div class="col-md-4">
			<a href="" class="thumbnail"><img src="img/SoCplots/PerceptionKidPopGrowth.jpg" class="img-responsive" alt="Relationship of metaknowledge to growth"></a>
		</div>
		<div class="col-md-8">
				<p>Ideally, I would have liked to compare the difference in ratings to reported levels of community satisfaction, but it was hard to know how to summarize the categorical variables to do the comparison. 
		Instead, I plotted the difference in positive responses (counting neutral) against the rate of growth in 2010. 
		There is no clear trend, although one might be able to see a slight positive relationship between cities where people with children believe it is better for kids and cities that saw growth in 2010. 
		Certainly, Milledgeville, GA (where people without kids thought it was better for children than those with kids themselves) saw a steep drop in population.</p>
		</div>
	</div>
	
	
		<div class="row">
		<div class="col-md-12">
		<h2>Conclusions</h2>My main conclusion is that it is incredibly difficult to deal with data that is largely categorical. 
		It was hard to understand where numeric data came from (even the index variables weren’t well-documented, and there was a whole category of measures like “Thriving” that had no explanation at all), 
		and the sheer volume of differently-scaled categorical responses was daunting. 
		Even converting all the questions into ordered factors seemed out of the question, because the initial ordering did not have enough consistency for a programmatic approach.
		It was interesting to see which communities reported the highest levels of satisfaction with their community, and try to make visual correlations with other variables. 
		I also enjoyed seeing how many people reported being registered to vote in the survey overall, and seeing the consistency of that percentage over the three years of the survey and the 26 communities surveyed.
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<h2>References and resources</h2>
			R packages: <a href="http://ggplot2.org/"><code>ggplot2</code></a>, <a href="http://plyr.had.co.nz/"><code>plyr</code></a>, <a href="http://cran.r-project.org/web/packages/reshape/index.html"><code>reshape</code></a>, <a href="http://cran.r-project.org/web/packages/scales/index.html"><code>scales</code></a>, <a href="http://cran.r-project.org/web/packages/tabplot/index.html"><code>tabplot</code></a>, <a href="https://github.com/AmeliaMN/MobilizeSimple"><code>MobilizeSimple</code></a>
			<br><a href="http://www.census.gov/popest/data/intercensal/cities/cities2010.html">Population data</a>
			<br>Likert scale plots Ethan Brown's <a href="http://statisfactions.com/2012/improved-net-stacked-distribution-graphs-via-ggplot2-trickery/">blog</a>
			<br>My code is available on <a href="https://github.com/AmeliaMN/SoCDataViz">my github</a>.
		</div>
	</div>
	
	<div class="row">
		<div class="col-md-12">
		<h2>Thank you</h2>To Terri Johnson and Mitch Halverson, who listened to me talk about this data for months
		</div>
	</div>

	<div class="row">&nbsp;</div>
</div>
		



</div>

   <footer>
      <div class="container">
        <p class="text-muted credit">Copyright &copy; 2014 Amelia McNamara. All Rights Reserved.</p>
      </div>
    </footer>
 <!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
  var sc_project=8403591; 
  var sc_invisible=1; 
  var sc_security="445c0f52"; 
  var scJsHost = (("https:" == document.location.protocol) ?
  "https://secure." : "http://www.");
</script>
<script type="text/javascript"
  src="http://www.statcounter.com/counter/counter.js"></script>
<noscript><div class="statcounter"><a title="web stats"
  href="http://statcounter.com/free-web-stats/"
  target="_blank"><img class="statcounter"
  src="https://c.statcounter.com/8403591/0/445c0f52/1/"
  alt="web stats"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->

    <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://www.stat.ucla.edu/~amelia.mcnamara/dist/js/jquery.min.js"></script>
    <script src="http://www.stat.ucla.edu/~amelia.mcnamara/dist/js/bootstrap.min.js"></script>
     <script src="http://www.stat.ucla.edu/~amelia.mcnamara/dist/js/Repo.js/repo.js"></script>
    <script type="text/javascript">
	$('.tooltip-test').tooltip()
	$('#collapseOne').collapse("hide");
	$('#repo').repo({ user: 'AmeliaMN', name: '1000tweets' });
	$('.more').click(function(){
    	$(this).text(function(i,old){
        	return old=='read less' ?  'read more' : 'read less';
    	});
    	$(this).blur();
	});
	$('.code').click(function(){
    	$(this).text(function(i,old){
        	return old=='hide code' ?  'view code' : 'hide code';
    	});
    	$(this).blur();
	});
	</script>
    
  </body>
</html>